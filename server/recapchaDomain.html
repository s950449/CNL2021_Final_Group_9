<!DOCTYPE html>
<html>
<head>
    <title>Attendance Checker</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
    <form name="challengeForm">
        <input type="hidden" id="courseID" name="courseID" value=""><br>
        <input type="hidden" id="userToken" name="userToken" value=""><br>
        <div class="g-recaptcha" data-sitekey="6Le-piobAAAAAJXR_vaBmeCbQtdOaMmk0k42IVnS"></div><br />
        <input type='button' name="submit" value="submit" onclick="processFormData();" />
    </form><br>
    <script>
        function processFormData() {
            const courseIDElement = document.getElementById("courseID");
            const courseID = courseIDElement.value;
            const userTokenElement = document.getElementById("userToken");
            const userToken = emailElement.value;
            token = grecaptcha.getResponse();
            const data = new FormData();
            data.append("studentToken", userToken);
            data.append("courseID", courseID);
            data.append("token", token);
            const url = "http://seekrealthing.net/Challenge";
            fetch(url, {
                method: 'POST',
                body: data,
                mode: 'cors'
            })
            .then(response => {
                if (!response.ok)
                    console.log("Connection lost");
                else
                    console.log("Send challenge result success");
            })
            .catch((error) => {
                console.error(error);
                console.log("Connection lost");
            })
        }
    </script>
</body>
</html>